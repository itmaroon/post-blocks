(()=>{"use strict";var e={455:e=>{e.exports=window.wp.apiFetch},443:e=>{e.exports=window.wp.date}},t={};function r(a){var s=t[a];if(void 0!==s)return s.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=r(455),t=r.n(e),a=r(443);const s=[],o=(e,t)=>{for(const r in e)if(r.includes(".")){const a=r.lastIndexOf(".");if(r.slice(a+1)===t)return e[r]}return e[t]},i=(e,t)=>{let r=null;for(const a in e){if(a===t){r=e[a];break}if("object"==typeof e[a]){const s=i(e[a],t);if(null!==s){r=s;break}}}return r},n=async e=>{const r=`/wp/v2/media/${e}`;return await t()({path:r})};document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".wp-block-itmar-pickup-posts").forEach((e=>{const r=e.dataset.number_of_items,c=e.dataset.selected_rest,l=e.dataset.tax_relate_type,d=JSON.parse(e.dataset.choice_terms),p=JSON.parse(e.dataset.block_map),h=((e,t)=>({...e.reduce(((e,{taxonomy:t,term:r})=>("category"===t?e.hasOwnProperty("categories")?e.categories=`${e.categories},${r.id}`:e.categories=r.id:"post_tag"===t?e.hasOwnProperty("tags")?e.tags=`${e.tags},${r.id}`:e.tags=r.id:e.hasOwnProperty(t)?e[t]=`${e[t]},${r.id}`:e[t]=r.id,e)),{}),tax_relation:t}))(d,l);((e,r)=>{const a=`/wp/v2/${e}`,s=Object.entries(r).map((([e,t])=>`${e}=${t}`)).join("&");return t()({path:`${a}?${s}`})})(c,{per_page:r,...h}).then((t=>{const r=e.querySelectorAll(".post_unit")[0];if(!r)return;const c=r.children;Array.from(c).forEach(((e,r)=>{((e,t,r)=>{const c=e.getElementsByTagName("*");for(let e=0;e<c.length;e++){const l=c[e],d=l.className.split(" ");if(d.some((e=>e.startsWith("field_")))){const e=d.find((e=>e.startsWith("field_"))).replace("field_",""),c=i({...t.acf,...t.meta},e),p=t[e]||c;switch(o(r,e)){case"itmar/design-title":const t=l.querySelector("h1, h2, h3, h4, h5, h6");if(t){const r=t.querySelector("div");console.log(p),r&&(r.textContent="date"===e?(0,a.dateI18n)("Y.n.j",p):"title"===e?p.rendered:p)}break;case"core/paragraph":l.innerHTML=p.rendered;break;case"core/image":if(!p)break;const r=l.querySelector("img");r&&s.push(n(p).then((e=>{const t=e.source_url,a=Object.entries(e.media_details.sizes).map((([e,t])=>`${t.source_url} ${t.width}w`)).join(", "),s=e.media_details.width,o=e.media_details.height,i=e.alt_text,n=r.classList.toString().match(/wp-image-(\d+)/)[1];r.src=t,r.srcset=a,r.width=s,r.height=o,r.alt=i,r.classList.remove(`wp-image-${n}`),r.classList.add(`wp-image-${p}`)})).catch((e=>console.error(e))))}}}})(e,t[r],p)})),Promise.all(s).then((()=>{document.querySelectorAll(".post_unit").forEach((e=>{e.classList.remove("unit_hide")}))})).catch((e=>console.error(e)))})).catch((e=>console.error(e)))}))}))})()})();
//# sourceMappingURL=front-module.js.map